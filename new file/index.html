<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>run</title>
    <style>
        body {
            padding: 0;
            margin: 0;
            background-color: rgba(0, 0, 0, 0.2)
        }

        h1 {
            text-align: center;
        }

       

        #note {
            font-size: 14px;
            color: #999999;
        }

        .btn {
            width: 80px;
            height: 30px;
            font-size: 16px;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <h1>1000m</h1>
    <canvas id="solar" width="300" height="300"></canvas>
    <div id="all" style="text-align:center;font-size:20px;font-weight: bold;">
        
        <br><br>
        
        <button onclick="ADD10();" class="btn" type="button">努力</button>
      
        
        <br><br>
        已跑时间：
        <span id="h">--</span>:
        <span id="mi">--</span>:
        <span id="s">--</span>
        <br><br>
        
        当前速度：<span id="spd">--</span>m/s 
        <br><br>
        已跑距离：<span id="dis">--</span>米 
        <br><br>
        <i id="note">蓝熊加油！<br>
        
        <br><br>
    </div>

    <script>
        init();
      
        let step = 50 / 3;
        let dis = 0;
        let hurry = 0;
        let spd = 1;
        let time = new Date();
        let tn = 1663603200000;
        function init() {
            let canvas = document.querySelector("#solar");
            let ctx = canvas.getContext("2d");
            draw(ctx);
        }

        

        function ADD10() {
            hurry = hurry+1;
        }

        
       
        

        
        function draw(ctx) {
            requestAnimationFrame(function step() {
                drawDial(ctx); 
                drawAllHands(ctx); 
                requestAnimationFrame(step);
            });
        }
        
        
        function drawAllHands(ctx) {
            if(dis<1000)tn += step;
            if (step < 50 / 3) step = 50 / 3;
            if (spd > 5) spd = 5;
            if (dis > 1000) dis = 1000;
            time.setTime(tn);
             {
                
                document.getElementById("h").innerHTML = (time.getHours() < 10) ? ('0' + time.getHours()) : (time.getHours());
                document.getElementById("mi").innerHTML = (time.getMinutes() < 10) ? ('0' + time.getMinutes()) : (time.getMinutes());
                document.getElementById("s").innerHTML = (time.getSeconds() < 10) ? ('0' + time.getSeconds()) : (time.getSeconds());
                
                
                
                dis += spd * (step / 1000) ;
                spd = 1-dis*0.02+hurry* (0.1-dis / 30000);if (spd > 5) spd = 5;
        
                document.getElementById("spd").innerHTML = spd.toFixed(3);
                
                document.getElementById("dis").innerHTML = dis.toFixed(0);
                
                
            }
            

            let s = time.getSeconds();
            let m = time.getMinutes();
            let h = time.getHours();

            
            
        }
        
      

       
        function drawDial(ctx) {
            

            
            

           

           
        }
    </script>
</body>

</html>
